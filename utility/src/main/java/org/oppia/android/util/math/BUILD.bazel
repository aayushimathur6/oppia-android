"""
General-purpose mathematics utilities, especially for supporting math-based interactions.
"""

load("@io_bazel_rules_kotlin//kotlin:kotlin.bzl", "kt_android_library")

kt_android_library(
    name = "extensions",
    srcs = [
        "FloatExtensions.kt",
        "FractionExtensions.kt",
        "PolynomialExtensions.kt",
        "RatioExtensions.kt",
        "RealExtensions.kt",
    ],
    visibility = [
        "//:oppia_api_visibility",
    ],
    deps = [
        "//model/src/main/proto:math_java_proto_lite",
    ],
)

kt_android_library(
    name = "fraction_parser",
    srcs = ["FractionParser.kt"],
    visibility = [
        "//:oppia_api_visibility",
    ],
    deps = [
        "//model/src/main/proto:math_java_proto_lite",
        "//utility/src/main/java/org/oppia/android/util/extensions:string_extensions",
    ],
)

kt_android_library(
    name = "math_expression_parser",
    srcs = [
        "MathExpressionParser.kt",
    ],
    visibility = [
        "//:oppia_testing_visibility",
    ],
    deps = [
        ":extensions",
        ":math_parsing_error",
        ":peekable_iterator",
        ":tokenizer",
        "//model/src/main/proto:math_java_proto_lite",
    ],
)

kt_android_library(
    name = "math_parsing_error",
    srcs = [
        "MathParsingError.kt",
    ],
    visibility = [
        "//:oppia_api_visibility",
    ],
    deps = [
        "//model/src/main/proto:math_java_proto_lite",
    ],
)

kt_android_library(
    name = "tokenizer",
    srcs = [
        "MathTokenizer.kt",
    ],
    visibility = [
        "//:oppia_testing_visibility",
    ],
    deps = [
        ":peekable_iterator",
        "//model/src/main/proto:math_java_proto_lite",
    ],
)

kt_android_library(
    name = "peekable_iterator",
    srcs = [
        "PeekableIterator.kt",
    ],
    visibility = [
        "//:oppia_testing_visibility",
    ],
)
